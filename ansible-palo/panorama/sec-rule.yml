---
- hosts: localhost
  connection: local

  roles:
    - role: paloaltonetworks.paloaltonetworks
    
  tasks:
  
    - name: policy 1
      panos_security_rule:
        operation: 'add'
        ip_address: "{{ ip_address }}"
        username: "{{ username }}"
        password: "{{ password }}"
        devicegroup: "{{ device_group }}"
        rulebase: "{{ rulebase }}"
        rule_name: "{{ rule_name }}"
        source_zone: "{{ source_zone }}"
        source_ip: "{{ source_ip }}"
        destination_zone: "{{ destination_zone }}"
        destination_ip: "{{ destination_ip }}"
        application: "{{ application }}"
        service: "{{ service }}"
        action: 'allow'
        #log_setting: "LFP-POLICY1"
        #group_profile: "SPG-Default" #IDP, Actions, Profile Setting
        commit: False
      tags:
        - policy1
        
        
    - name: Policy 2
      panos_security_rule:
        operation: 'add'
        ip_address: "{{ ip_address }}"
        username: "{{ username }}"
        password: "{{ password }}"
        devicegroup: "{{ device_group }}"
        rulebase: "{{ rulebase }}"
        rule_name: "{{ rule_name }}"
        source_zone: "{{ source_zone }}"
        source_ip: "{{ source_ip }}"
        destination_zone: "{{ destination_zone }}"
        destination_ip: "{{ destination_ip }}"
        application: "{{ application }}"
        service: "{{ service }}"
        action: 'allow'
        #log_setting: "LFP-POLICY1"
        #group_profile: "SPG-Default" #IDP, Actions, Profile Setting
        commit: False
      tags:
        - policy2
